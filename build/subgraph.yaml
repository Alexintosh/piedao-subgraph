specVersion: 0.0.2
description: Portfolio allocations represented by ERC20 with underlying index governed by
  a decentralized autonomous organization
repository: https://github.com/pierrickgt/piedao-subgraph
schema:
  file: schema.graphql
dataSources:
  - kind: ethereum/contract
    name: PProxiedFactory
    network: mainnet
    source:
      address: "0x28a1474ccdb0353b9c0570b54e669fc4d6ed55a6"
      abi: PProxiedFactory
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Pie
      abis:
        - name: PProxiedFactory
          file: PProxiedFactory/abis/PProxiedFactory.json
      eventHandlers:
        - event: OwnerChanged(indexed address,indexed address)
          handler: handleOwnerChanged
        - event: SmartPoolCreated(indexed address,string,string)
          handler: handleSmartPoolCreated
      file: PProxiedFactory/PProxiedFactory.wasm
  - kind: ethereum/contract
    name: PProxiedFactoryBTC++
    network: mainnet
    source:
      address: "0x3d94b89b818bd03d77b2dd3a61590ca861be87e7"
      abi: PProxiedFactory
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Pie
      abis:
        - name: PProxiedFactory
          file: PProxiedFactoryBTC++/abis/PProxiedFactory.json
      eventHandlers:
        - event: OwnerChanged(indexed address,indexed address)
          handler: handleOwnerChanged
        - event: SmartPoolCreated(indexed address,string,string)
          handler: handleSmartPoolCreated
      file: PProxiedFactory/PProxiedFactory.wasm
  - kind: ethereum/contract
    name: PProxiedFactoryUSDC++
    network: mainnet
    source:
      address: "0xeBB5BEB8117DE4c57abFb93501061dD7C6071f8f"
      abi: PProxiedFactory
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Pie
      abis:
        - name: PProxiedFactory
          file: PProxiedFactoryUSDC++/abis/PProxiedFactory.json
      eventHandlers:
        - event: OwnerChanged(indexed address,indexed address)
          handler: handleOwnerChanged
        - event: SmartPoolCreated(indexed address,string,string)
          handler: handleSmartPoolCreated
      file: PProxiedFactory/PProxiedFactory.wasm
